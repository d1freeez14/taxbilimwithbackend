# üê≥ Docker Workflow –¥–ª—è TaxBilim

## ‚ùå –ß—Ç–æ –ù–ï –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å
```bash
# –ù–ï –£–î–ê–õ–Ø–ô–¢–ï –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∫–∞–∂–¥—ã–π —Ä–∞–∑!
docker compose down
docker compose up --build
```

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π workflow

### 1. **–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ (90% —Å–ª—É—á–∞–µ–≤)**
```bash
# –ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend
./scripts/dev.sh restart-backend

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
docker compose restart backend
```

### 2. **–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö**
```bash
# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å backend
./scripts/dev.sh rebuild-backend

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
docker compose up --build backend
```

### 3. **–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞**
```bash
# –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
./scripts/dev.sh status

# –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏
./scripts/dev.sh logs-backend
```

## üöÄ –£–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### **–°–∫—Ä–∏–ø—Ç `./scripts/dev.sh`:**
```bash
./scripts/dev.sh restart          # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ
./scripts/dev.sh restart-backend  # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ backend
./scripts/dev.sh restart-frontend # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ frontend
./scripts/dev.sh rebuild          # –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –≤—Å–µ
./scripts/dev.sh rebuild-backend  # –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ backend
./scripts/dev.sh logs             # –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –ª–æ–≥–∏
./scripts/dev.sh logs-backend     # –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ backend
./scripts/dev.sh status           # –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å
./scripts/dev.sh clean            # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
./scripts/dev.sh clean-all        # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ
```

### **–†—É—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker compose restart
docker compose restart backend
docker compose restart frontend

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker compose up --build
docker compose up --build backend

# –õ–æ–≥–∏
docker compose logs -f
docker compose logs -f backend

# –°—Ç–∞—Ç—É—Å
docker compose ps
```

## üîÑ –¢–∏–ø–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### **–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ò–∑–º–µ–Ω–∏–ª–∏ –∫–æ–¥ –≤ backend**
```bash
# 1. –í–Ω–µ—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ backend/src/
# 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend
./scripts/dev.sh restart-backend

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
./scripts/dev.sh logs-backend
```

### **–°—Ü–µ–Ω–∞—Ä–∏–π 2: –î–æ–±–∞–≤–∏–ª–∏ –Ω–æ–≤—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å**
```bash
# 1. –î–æ–±–∞–≤–∏–ª–∏ –≤ backend/package.json
# 2. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å backend
./scripts/dev.sh rebuild-backend
```

### **–°—Ü–µ–Ω–∞—Ä–∏–π 3: –ò–∑–º–µ–Ω–∏–ª–∏ frontend**
```bash
# 1. –í–Ω–µ—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ frontend/
# 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å frontend
./scripts/dev.sh restart-frontend
```

### **–°—Ü–µ–Ω–∞—Ä–∏–π 4: –ü—Ä–æ–±–ª–µ–º—ã —Å –∫—ç—à–µ–º**
```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ
./scripts/dev.sh clean

# 2. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –±–µ–∑ –∫—ç—à–∞
docker compose build --no-cache
docker compose up
```

## üéØ –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–í–∞—à `docker-compose.yml` –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å volume mapping:
```yaml
volumes:
  - ./backend:/app          # –ö–æ–¥ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
  - /app/node_modules       # node_modules –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø–æ–ø–∞–¥–∞—é—Ç –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- ‚úÖ `node_modules` –æ—Å—Ç–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- ‚úÖ –ù—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ **–ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å** –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üö® –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—Ç—å

### **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è:**
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `.js`, `.ts`, `.json` —Ñ–∞–π–ª–∞—Ö
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ API endpoints
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ª–æ–≥–∏–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### **–ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –Ω—É–∂–Ω–∞ –¥–ª—è:**
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `package.json` (–Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `Dockerfile`
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `docker-compose.yml`
- –ü—Ä–æ–±–ª–µ–º—ã —Å –∫—ç—à–µ–º

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å:**
```bash
./scripts/dev.sh status
```

### **–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏:**
```bash
# –í—Å–µ –ª–æ–≥–∏
./scripts/dev.sh logs

# –¢–æ–ª—å–∫–æ backend
./scripts/dev.sh logs-backend

# –¢–æ–ª—å–∫–æ frontend
docker compose logs -f frontend
```

### **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ:**
```bash
# Backend health
curl http://localhost:5001/api/health

# Frontend
curl http://localhost:3000
```

## üßπ –û—á–∏—Å—Ç–∫–∞ (—Ä–µ–¥–∫–æ –Ω—É–∂–Ω–æ)

### **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:**
```bash
./scripts/dev.sh clean
```

### **–ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö):**
```bash
./scripts/dev.sh clean-all
```

## üí° –°–æ–≤–µ—Ç—ã

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç** `./scripts/dev.sh` –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫** –±—ã—Å—Ç—Ä–µ–µ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏
3. **–õ–æ–≥–∏** –ø–æ–º–æ–≥–∞—é—Ç –æ—Ç–ª–∞–¥–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã
4. **–°—Ç–∞—Ç—É—Å** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
5. **–ù–µ —É–¥–∞–ª—è–π—Ç–µ** –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ:
- ‚úÖ –ë—ã—Å—Ç—Ä–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ
- ‚úÖ –ù–µ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∫–∞–∂–¥—ã–π —Ä–∞–∑
- ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å Docker
- ‚úÖ –õ–µ–≥–∫–æ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã
